/*!
 * created by cloud_cb linyunbin on 2017/11/13
 * lsk-mobile v0.0.1
 * Copyright  2017, cloud_cb linyunbin, ISC license
 */
webpackJsonp([13],{50:function(e,t){},84:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(2),s=(o(r),n(16)),i=o(s),c=n(1),l=n(4);n(50),function(){function e(){!function(){return!(!(0,l.testTel)(n)||!testVcode(o))}()?next.setAttribute("disabled","disabled"):next.removeAttribute("disabled")}var t,n,o,r,s=(0,c.c)("#telIpt"),u=(0,c.c)("#VcodeIpt"),d=(0,c.c)("#getVcodeBtn"),a=((0,c.c)("#usernameIpt"),next=document.getElementById("next"),document.getElementsByClassName("tip")[0]),f=!1,b=60,g={testTel:"请输入正确的手机号码",telRegistered:"手机号码已被注册",getCodeText:"获取验证码",countStr:" 秒后可重新获取",testVcode:"验证码格式不正确",checkVcode:"验证码不正确，请重新输入",registered:"&times;号码已被注册",canRegister:"号码可用",checkError:"验证手机号码失败，请检查您的网络"};s.oninput=function(){n=this.value,(0,l.testTel)(n)&&!f?(a.style.display="inline-block",Ajax({methods:"GET",url:i.default+"/front/user/checkPhone",data:{mobile:n},headers:{"x-version":"1.0","x-client":"1"},success:function(e,n,o){console.log("res",e),console.log("status",n),console.log("xhr",o.getResponseHeader("x-token")),t=o.getResponseHeader("x-token"),!0===e.data?(a.style.color="#f53535",a.innerHTML=g.registered):(a.style.color="green",a.innerHTML=g.canRegister,d.removeAttribute("disabled"))},error:function(e){console.error("error",e),blackTip(g.checkError)}})):d.setAttribute("disabled","disabled"),e()},u.oninput=function(){o=this.value,e()},s.onblur=function(){if(!(0,l.testTel)(this.value))return void blackTip(g.testTel)},d.onclick=function(){var e=this;if(!(0,l.testTel)(n))return void blackTip(g.testTel);this.setAttribute("disabled","disabled"),f=!0;var o=JSON.stringify({mobile:n.toString()});Ajax({method:"POST",url:i.default+"/front/user/getRegSMSCode",data:o,headers:{"x-version":"1.0","x-client":"1","x-token":t},success:function(e){console.log("success",e)},error:function(e){console.log(e)}}),r=setInterval(function(){b>1?(b--,e.innerText=b+g.countStr):(clearInterval(r),e.removeAttribute("disabled"),e.innerText=g.getCodeText,f=!1,b=60)},1e3)},u.onblur=function(){testVcode(this.value)||blackTip(g.testVcode)},next.onclick=function(){location.href="../register/register.html?userMobile="+n+"&userType="+userType+"&smsCode="+o},window.addEventListener("pageshow",function(e){(e.persisted||window.performance&&2==window.performance.navigation.type)&&(u.value="",s.value="")},!1)}()}},[84]);