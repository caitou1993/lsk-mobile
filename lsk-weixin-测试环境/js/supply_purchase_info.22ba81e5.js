/*!
 * created by cloud_cb linyunbin on 2017/11/13
 * lsk-mobile v0.0.1
 * Copyright  2017, cloud_cb linyunbin, ISC license
 */
webpackJsonp([11],{53:function(e,t){},87:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(5),l=(i(n),a(2)),r=(i(l),a(1)),s=a(3);a(0),a(53),a(7);var o=a(6).pullUpLoad;!function(){function e(){(0,s.listHomeCompanySupplys)(v,function(t){console.log("首页供应列表",t);for(var a=t.data.list,i="",l=0;l<a.length;l++){var s=document.createElement("div");s.setAttribute("data-id",a[l].id),s.className="item",i='<div class="avatar-wrapper border-bottom">\n                        <img src="'+a[l].userHeadIcon+'">\n                        <div>'+(0,r.formatUserName)(a[l].userName)+'</div>\n                    </div>\n                    <div class="product-info">\n                        <img src="'+a[l].productPicUrl+'">\n                        <div class="text">\n                            <div class="brief">'+a[l].supplyDesc+'</div>\n                            <div class="type">'+(0,r.formatProduceShape)(a[l].supplyType)+'</div>\n                            <div class="time">'+(0,r.getDateDiff)(new Date(a[l].createDate))+"</div>\n                        </div>\n                    </div>",s.innerHTML=i,s.onclick=function(){var e=this.getAttribute("data-id");console.log("data-id",e),(0,r.blackTip)("为了保密，供应详情仅对服装端用户公开",2500)},n.insertBefore(s,document.querySelector(".supply-flag"))}var c=t.data.pageNO<t.data.totalPage;console.log("hasMore值:",c),c&&v.pageNo++,o(c,e,n)})}function t(){(0,s.listHomeProductBuys)(g,function(e){console.log("首页求购列表",e);for(var a=e.data.list,i="",n=0;n<a.length;n++){var s=document.createElement("div");s.setAttribute("data-id",a[n].id),s.className="item",i='<div class="avatar-wrapper border-bottom">\n                        <img src="'+a[n].userHeadIcon+'">\n                        <div>'+(u?a[n].userName:(0,r.formatUserName)(a[n].userName))+'</div>\n                    </div>\n                    <div class="product-info">\n                        <img src="'+a[n].buyPicUrl+'">\n                        <div class="text">\n                            <div class="brief">'+a[n].buyDesc+'</div>\n                            <div class="status">'+(a[n].buyStatus?"求购中":"已完成")+'</div>\n                            <div class="time">'+(0,r.getDateDiff)(a[n].createDate)+"</div>\n                        </div>\n                    </div>",s.innerHTML=i,s.onclick=function(){var e=this.getAttribute("data-id");console.log("data-id",e),console.log("isSettled",u),u?location.href="./buy_detail.html?dataId="+e:(0,r.blackTip)("为了保密，求购详情仅对蕾丝控商家公开",2500)},l.insertBefore(s,document.querySelector(".buying-flag"))}var c=e.data.pageNO<e.data.totalPage;c&&g.pageNo++,o(c,t,l)})}function a(e){for(var t=0;t<c.length;t++)c[t].className=c[t].className.replace("active","");c[e.activeIndex].className+=" active",i.innerHTML=p[e.activeIndex].text,i.setAttribute("href",p[e.activeIndex].link),history.replaceState(null,null,"?swiperIndex="+e.activeIndex)}console.log("companyId",localStorage.companyId),console.log("userId",localStorage.userId),console.log("isSettled",localStorage.isSettled);var i=(0,r.c)("#headRight"),n=(0,r.c)("#supplyWrapper"),l=(0,r.c)("#buyingWrapper"),c=(0,r.c)(".swiper-tag")[0].getElementsByTagName("span"),d=localStorage.userType;console.log("userType",d);var u=parseInt(localStorage.isSettled),p=[{text:"发布供应",link:"../publish_supply.html"},{text:"发布求购",link:"./publish_buy.html"}];"3"===d&&(p[0].text="发布求购",p[0].link="./publish_buy.html"),i.innerHTML=p[0].text,i.setAttribute("href",p[0].link),i.onclick=function(){u?location.href=this.getAttribute("href"):(0,r.blackTip)("该功能仅对蕾丝控商家公开",2500)};var v={supplyShapes:"",supplyTypes:"",pageNo:1,pageSize:10},g={buyTypes:"",buyShapes:"",pageNo:1,pageSize:5};e(),t();var f=new Swiper(".swiper-container",{onSlideChangeEnd:a,spaceBetween:30,initialSlide:(0,r.getQueryString)("swiperIndex")?(0,r.getQueryString)("swiperIndex"):0});!function(){for(var e=0;e<c.length;e++)!function(e){c[e].addEventListener("click",function(){f.slideTo(e,300,!1),a(f)},!1)}(e)}()}()}},[87]);