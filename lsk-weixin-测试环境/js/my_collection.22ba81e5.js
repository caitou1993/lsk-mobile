/*!
 * created by cloud_cb linyunbin on 2017/11/13
 * lsk-mobile v0.0.1
 * Copyright  2017, cloud_cb linyunbin, ISC license
 */
webpackJsonp([24],{38:function(a,e){},72:function(a,e,t){"use strict";var n=t(2),i=(function(a){a&&a.__esModule}(n),t(1)),s=t(3);t(0),t(38),t(7);var o=t(6).pullUpLoad;!function(){function a(){(0,s.listProduct)(p,function(e){console.log("花型列表",e);for(var t=e.data.list,n="",s=0;s<t.length;s++){var c=document.createElement("div");c.setAttribute("data-id",t[s].id),c.className="info-wrapper",n='<div class="info">\n                    <img src="'+t[s].defaultPicUrl+'">\n                    <div class="text">\n                        <div class="top">'+t[s].productNo+'</div>\n                        <div class="middle ellipsis"><span class="firm-name">'+t[s].companyName+'</span></div>\n                        <div class="bottom"><span class="num">'+(0,i.formatMoney)(t[s].price,t[s].priceUnit)+'</span></div>\n                    </div>\n                    <div class="arrow icon-xiayiye"></div>\n                </div>',c.innerHTML=n,c.onclick=function(){var a=this.getAttribute("data-id");console.log(a),location.href="./pattern_detail.html?dataId="+a},l.insertBefore(c,document.querySelector(".pattern-flag"))}var r=e.data.pageNO<e.data.totalPage;r&&p.pageNo++,o(r,a,l)})}function e(){(0,s.listCompany)(v,function(a){console.log("商家列表",a);for(var t=a.data.list,n="",i=0;i<t.length;i++){var c=document.createElement("div");c.setAttribute("data-id",t[i].id),c.className="info-wrapper",n='<div class="info">\n                    <div class="text">\n                        <div class="top ellipsis big-firm-name '+(1===t[i].companyType?"factory":"stalls")+'">'+t[i].companyName+'</div>\n                        <div class="middle"><span class="key">主营:&nbsp;</span><span class="name">'+t[i].companyBusiness+'</span></div>\n                        <div class="bottom">共上架&nbsp;<span class="num">'+t[i].productCount+'</span>&nbsp;件花型</div>\n                    </div>\n                    <div class="arrow icon-xiayiye"></div>\n                </div>',c.innerHTML=n,c.onclick=function(){var a=this.getAttribute("data-id");(0,s.getCompanyInfo)({id:a},function(a){console.log("获取档口OR工厂信息",a),a.data.indexName&&(location.href="http://"+a.data.indexName+".lacewang.cn")}),console.log(a)},r.insertBefore(c,document.querySelector(".firm-flag"))}var l=a.data.pageNO<a.data.totalPage;l&&p.pageNo++,o(l,e,r)})}function t(){(0,s.listSupply)(u,function(a){console.log("供应列表",a);for(var e=a.data.list,n="",s=0;s<e.length;s++){var c=document.createElement("div");c.setAttribute("data-id",e[s].id),c.className="info-wrapper",n='<div class="info">\n                    <img src="'+e[s].productPicUrl+'">\n                    <div class="text">\n                        <div class="top ellipsis-two">'+e[s].supplyDesc+'</div>\n                        <div class="middle ellipsis"><span class="firm-name">'+e[s].companyName+'</span></div>\n                        <div class="bottom"><span class="time">'+(0,i.getDateDiff)(a.data.createDate)+'</span></div>\n                    </div>\n                    <div class="arrow icon-xiayiye"></div>\n                </div>',c.innerHTML=n,c.onclick=function(){var a=this.getAttribute("data-id");console.log(a),location.href="./supply_detail.html?dataId="+a},d.insertBefore(c,document.querySelector(".supply-flag"))}var l=a.data.pageNO<a.data.totalPage;l&&p.pageNo++,o(l,t,d)})}function n(a){for(var e=0;e<c.length;e++)c[e].className=c[e].className.replace("active","");c[a.activeIndex].className+=" active",history.replaceState(null,null,"?swiperIndex="+a.activeIndex)}var c=(0,i.c)(".swiper-tag")[0].getElementsByTagName("span"),l=(0,i.c)("#patternWrapper"),r=(0,i.c)("#firmWrapper"),d=(0,i.c)("#supplyWrapper"),p={category:-1,isStock:-1,pageNo:1,pageSize:10},v={pageNo:1,pageSize:10},u={supplyShape:-1,supplyType:-1,pageNo:1,pageSize:10};a(),e(),t();var m=new Swiper(".swiper-container",{onSlideChangeEnd:n,spaceBetween:30,initialSlide:(0,i.getQueryString)("swiperIndex")?(0,i.getQueryString)("swiperIndex"):0});!function(){for(var a=0;a<c.length;a++)!function(a){c[a].addEventListener("click",function(){m.slideTo(a,300,!1),n(m)},!1)}(a)}()}()}},[72]);